# Python 依赖安装指南

## 当前状态

系统检测显示：**未找到已安装的 Python**

## 解决方案

### 方案 1：安装 Python（如果未安装）

1. **下载 Python**
   - 访问：https://www.python.org/downloads/
   - 下载最新版本的 Python（推荐 3.11 或 3.12）

2. **安装 Python**
   - 运行安装程序
   - ⚠️ **重要**：勾选 "Add Python to PATH"（添加到环境变量）
   - 选择 "Install Now"

3. **验证安装**
   - 关闭并重新打开 PowerShell/命令提示符
   - 运行：`python --version`
   - 应该显示 Python 版本号

4. **安装依赖**
   ```powershell
   cd "C:\Users\Lenovo\AppData\Local\LM-Studio\app-0.3.5\NovelCorpusExtractor"
   python -m pip install --upgrade pip
   python -m pip install -r requirements.txt
   ```

### 方案 2：如果 Python 已安装但未在 PATH 中

1. **找到 Python 安装位置**
   - 常见位置：
     - `C:\Users\你的用户名\AppData\Local\Programs\Python\Python3xx\`
     - `C:\Program Files\Python3xx\`
     - `C:\Python3xx\`

2. **使用完整路径安装**
   ```powershell
   cd "C:\Users\Lenovo\AppData\Local\LM-Studio\app-0.3.5\NovelCorpusExtractor"
   "C:\Users\Lenovo\AppData\Local\Programs\Python\Python312\python.exe" -m pip install --upgrade pip
   "C:\Users\Lenovo\AppData\Local\Programs\Python\Python312\python.exe" -m pip install -r requirements.txt
   ```
   （请将路径中的版本号替换为你的实际版本）

### 方案 3：使用 Microsoft Store 安装（Windows 10/11）

1. 打开 Microsoft Store
2. 搜索 "Python 3.12" 或 "Python 3.11"
3. 点击安装
4. 安装完成后，重启终端窗口
5. 运行安装命令

## 需要安装的依赖包

安装脚本会自动安装以下依赖：
- **PyYAML** - 配置文件处理
- **tqdm** - 进度条显示
- **openai** - OpenAI API 客户端
- **anthropic** - Anthropic Claude API 客户端
- **google-generativeai** - Google Gemini API 客户端
- **aiohttp** - 异步 HTTP 客户端
- **chromadb** - 向量数据库（可选）
- **python-dotenv** - 环境变量管理
- **fastapi** - Web 框架
- **uvicorn** - ASGI 服务器
- **python-multipart** - 文件上传支持

## 安装完成后

运行以下命令启动 API 服务器：

```powershell
python api_server.py
```

或使用批处理文件：

```powershell
.\start_api.bat
```

## 常见问题

### Q: 提示 "python 不是内部或外部命令"
**A:** Python 未添加到 PATH，请：
1. 重新安装 Python 并勾选 "Add Python to PATH"
2. 或使用完整路径运行 Python
3. 或手动添加 Python 到系统 PATH

### Q: 安装依赖时提示权限错误
**A:** 使用用户安装模式：
```powershell
python -m pip install --user -r requirements.txt
```

### Q: 网络问题导致安装失败
**A:** 使用国内镜像源：
```powershell
python -m pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```


