# 小说类型标签指南

## 📚 支持的类型标签（36+种）

系统现已支持36+种小说类型标签，可在生成小说时自动识别和应用。

## 第一部分：基础类型标签（11种）

| 类型 | 英文 | 描述 | 必需元素 |
|------|------|------|----------|
| **言情** | Romance | 以男女主角的情感拉扯为核心的故事 | 情感冲突、CP互动、感情发展 |
| **玄幻** | Xuanhuan/Fantasy | 包含东方幻想元素，如修炼、法术等 | 修炼体系、境界等级、战斗场景 |
| **仙侠** | Xianxia | 以修仙、成仙为主题的幻想小说 | 修仙体系、天劫、飞升 |
| **悬疑** | Suspense | 充满谜题、信息差和紧张氛围 | 谜题、线索、推理、反转 |
| **科幻** | Sci-Fi | 包含未来科技、星际社会等元素 | 未来科技、科学设定、技术细节 |
| **奇幻** | Fantasy | 泛指包含魔法、异世界等元素的幻想故事 | 魔法体系、异世界设定 |
| **脑洞** | High-concept | 设定新颖、创意独特的小说 | 新颖设定、创意元素 |
| **都市** | Urban | 故事背景发生在现代城市的小说 | 现代背景、城市生活 |
| **历史** | History | 以历史时期为背景的小说 | 历史背景、历史事件 |
| **古言** | Historical Romance | 背景设定在古代的言情小说 | 古代背景、情感线 |
| **无CP** | No Couple | 没有固定恋爱关系或感情线的小说 | 专注事业、无感情线 |

## 第二部分：核心情节与流派（7种）

| 类型 | 英文 | 描述 | 必需元素 |
|------|------|------|----------|
| **重生文** | Rebirth | 主角死亡后回到过去，获得重来一次机会 | 前世记忆、改变命运、预知未来 |
| **穿越文** | Transmigration | 主角的灵魂穿越到另一个时空 | 时空穿越、适应新环境 |
| **穿书文** | Book Transmigration | 主角穿越到自己读过的小说世界 | 书中世界、剧情预知、改变剧情 |
| **系统文** | System | 主角获得游戏系统的金手指 | 系统提示、任务系统、奖励机制 |
| **无限流** | Unlimited Flow | 主角被卷入副本世界求生 | 副本世界、任务系统、生存挑战 |
| **复仇文** | Revenge | 以主角向仇人复仇为主线 | 仇恨、复仇计划、打脸 |
| **升级流** | Level-up | 主角通过打怪、修炼提升实力 | 等级提升、实力增长、突破瓶颈 |

## 第三部分：热门设定与"梗"分类（11种）

| 类型 | 英文 | 描述 | 必需元素 |
|------|------|------|----------|
| **爽文** | Satisfying | 情节让读者感到极度畅快、满足 | 爽点、打脸、逆袭 |
| **屌丝逆袭** | Underdog | 出身平凡的主角最终逆风翻盘 | 平凡出身、逆袭、成功 |
| **废柴流** | Trash-to-Treasure | 废柴主角后期展现惊人天赋 | 废柴开局、天赋觉醒、震惊众人 |
| **打脸爽文** | Face-slapping | 主角打脸曾经看不起自己的人 | 被嘲讽、展现实力、打脸成功 |
| **追妻火葬场** | Groveling | 伤害女主后追回的故事 | 伤害、离开、追回、道歉 |
| **马甲文** | Secret Identity | 主角拥有多重强大身份 | 多重身份、身份揭露、震惊 |
| **真假千金** | True/False Daughter | 身份被互换的两位女性 | 身份互换、身份揭露、豪门恩怨 |
| **迪化文** | Deification | 主角行为被过度解读 | 误解、过度解读、脑补 |
| **发疯文学** | Going Crazy | 打破常规的直接应对方式 | 打破常规、直接应对、解气 |
| **虐文** | Angst | 情节曲折，情感痛苦 | 情感痛苦、曲折情节、虐点 |
| **CP塑造** | CP-focused | 以人物配对互动为核心 | CP互动、情感发展、关系变化 |

## 第四部分：背景与职业分类（8种）

| 类型 | 英文 | 描述 | 必需元素 |
|------|------|------|----------|
| **种田文** | Farming | 通过种地、经商发家致富 | 种田、经商、发家致富 |
| **宫斗/宅斗** | Palace Intrigue | 围绕权力、地位斗争 | 权力斗争、地位争夺、人际关系 |
| **末世文** | Apocalyptic | 世界末日背景，努力求生 | 末世环境、生存危机、资源争夺 |
| **娱乐圈文** | Entertainment | 围绕演艺圈展开 | 演艺圈、明星、演戏、综艺 |
| **总裁文** | CEO | 霸道总裁和女主角的爱情 | 霸道总裁、爱情、现代背景 |
| **灵异文** | Supernatural | 包含鬼怪、灵异事件 | 鬼怪、灵异事件、超自然 |
| **赛博朋克** | Cyberpunk | 高科技、低生活的未来社会 | 未来科技、社会矛盾、虚拟现实 |
| **商战文** | Business War | 现代商业竞争、公司斗争 | 商业竞争、公司斗争、商业策略 |
| **冒险小说** | Adventure | 前往未知危险地方探索 | 探索、未知、危险、磨难 |

## 🎯 使用方法

### 1. 命令行指定类型

```bash
# 单个类型
python main.py --input novel.txt --type 重生文

# 多个类型（用逗号分隔）
python main.py --input novel.txt --type "重生文,系统文,爽文"
```

### 2. 自动类型识别

系统会自动识别文本中的类型标签：

```python
from core.genre_classifier import GenreClassifier

classifier = GenreClassifier()
genres = classifier.get_primary_genres(text, top_k=3)
# 返回: [(GenreCategory.REBIRTH, 0.8), (GenreCategory.SYSTEM, 0.6), ...]
```

### 3. 类型增强生成

```python
from core.genre_enhancer import GenreEnhancer

enhancer = GenreEnhancer()
enhanced_prompt = enhancer.enhance_prompt(
    prompt="写一章小说",
    genres=[GenreCategory.REBIRTH, GenreCategory.SYSTEM]
)
# 自动添加类型要求的元素和特征
```

## 📊 类型组合示例

### 常见组合

- **重生+系统+爽文**: 重生获得系统，开启逆袭之路
- **穿书+言情+追妻火葬场**: 穿书成为恶毒女配，男主追妻
- **末世+升级流+种田文**: 末世种田，升级变强
- **玄幻+废柴流+打脸爽文**: 废柴逆袭，打脸众人
- **都市+马甲文+商战文**: 都市商战，多重身份

### 类型标签优先级

1. **基础类型**（必须）：确定故事的基本类型
2. **核心情节**（重要）：确定故事的核心模式
3. **热门设定**（增强）：增加爽点和吸引力
4. **背景职业**（补充）：丰富故事背景

## 🔧 配置说明

类型配置保存在 `core/genre_config.yaml` 中，可以自定义：

- 类型描述
- 必需元素
- 风格特征
- 关键情节点

## ✅ 功能特性

1. **自动识别**: 系统自动识别文本中的类型标签
2. **智能增强**: 根据类型自动添加相应元素
3. **类型组合**: 支持多个类型标签组合
4. **语料分类**: 自动分类保存到对应类型的语料库
5. **生成指导**: 提供类型特定的生成指导

---

**总结**: 系统现已支持36+种类型标签，可在生成小说时自动识别和应用，确保生成内容符合类型特征。

